"use strict";var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var v=(t,e)=>{for(var n in e)s(t,n,{get:e[n],enumerable:!0})},g=(t,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of y(e))!f.call(t,r)&&r!==n&&s(t,r,{get:()=>e[r],enumerable:!(a=h(e,r))||a.enumerable});return t};var j=t=>g(s({},"__esModule",{value:!0}),t);var F={};v(F,{confirmation:()=>E,default:()=>p});module.exports=j(F);var o=require("@raycast/api"),w=(0,o.getPreferenceValues)().accessToken,i={Authorization:"Bearer "+w},x=Object.entries(i),l="https://api.vercel.com/";async function m(t,e){try{return(await(await fetch(l+`v8/projects/${t}/env/${e}`,{method:"delete",headers:i})).json()).environment}catch(n){throw console.error(n),(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed to delete environment variable"}),new Error("Failed to delete environment variable")}}async function d(t,e){return[...await b(t,e)].sort((a,r)=>r.updatedAt-a.updatedAt)}async function b(t,e){try{return(await(await fetch(l+`v8/projects/${t}/env?teamId=${e??""}`,{method:"get",headers:i})).json()).envs}catch(n){throw console.error(n),(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed to fetch environment variable"}),new Error("Failed to fetch environment variable")}}async function c({projectId:t,teamId:e}){return d(t,e)}async function p({projectId:t,envId:e}){return m(t,e)}var E=async({projectId:t,envId:e,teamId:n})=>{let r=(await c({projectId:t,teamId:n})).find(u=>u.id===e);return{message:"Are you sure you want to delete the environment variable?",info:[{name:r?.key,value:r?.value}]}};0&&(module.exports={confirmation});
