"use strict";var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var y=(t,e)=>{for(var n in e)a(t,n,{get:e[n],enumerable:!0})},f=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of h(e))!u.call(t,o)&&o!==n&&a(t,o,{get:()=>e[o],enumerable:!(r=p(e,o))||r.enumerable});return t};var v=t=>f(a({},"__esModule",{value:!0}),t);var b={};y(b,{confirmation:()=>w,default:()=>d});module.exports=v(b);var s=require("@raycast/api"),j=(0,s.getPreferenceValues)().accessToken,i={Authorization:"Bearer "+j},P=Object.entries(i),c="https://api.vercel.com/";async function l(t,e){try{return(await(await fetch(c+`v8/projects/${t}?teamId=${e??""}`,{method:"delete",headers:i})).json()).project}catch(n){throw console.error(n),(0,s.showToast)({style:s.Toast.Style.Failure,title:"Failed to delete project"}),new Error("Failed to delete project")}}function g(t,e=100){return c+`v8/projects?teamId=${t??""}&limit=${e}`}async function m(t,e=100){return(await(await fetch(g(t,e),{method:"get",headers:i})).json()).projects}async function d({projectId:t,teamId:e}){return l(t,e)}var w=async({projectId:t,teamId:e})=>{let r=(await m(e)).find(o=>o.id===t);return{message:"Are you sure you want to delete the project?",info:[{name:r?.name||"Project",value:r?.id}]}};0&&(module.exports={confirmation});
